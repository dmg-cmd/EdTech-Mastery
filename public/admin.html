<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EdTech Mastery - Panel del Profesor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <div class="admin-container">
        <!-- Header -->
        <header class="admin-header">
            <div class="header-left">
                <h1>EdTech Mastery</h1>
                <span class="status-badge" id="connection-status">Conectado</span>
            </div>
            <div class="header-center">
                <div class="game-status" id="game-status">
                    <span class="status-dot"></span>
                    <span class="status-text">En Lobby</span>
                </div>
            </div>
            <div class="header-right">
                <div class="player-count">
                    <span class="count-icon">üë•</span>
                    <span class="count-number" id="player-count">0</span>
                    <span class="count-label">jugadores</span>
                </div>
            </div>
        </header>

        <!-- Panel Principal -->
        <main class="admin-main">
            <!-- Vista Lobby -->
            <section id="lobby-view" class="view active">
                <div class="lobby-content">
                    <div class="qr-section">
                        <h2>üì± Conexion de Alumnos</h2>
                        <p class="qr-instruction">Los alumnos deben escanear este codigo QR o acceder a la URL:</p>
                        
                        <div class="qr-container">
                            <canvas id="qr-canvas"></canvas>
                            <div class="url-display" id="connection-url">
                                http://192.168.1.100:3000
                            </div>
                        </div>
                        
                        <div class="connection-info">
                            <div class="info-item">
                                <span class="info-label">O accede directamente:</span>
                                <a href="#" id="direct-link" class="direct-link">http://192.168.1.100:3000</a>
                            </div>
                        </div>
                    </div>

                    <div class="players-section">
                        <h2>üë• Jugadores Conectados</h2>
                        <div class="players-list" id="players-list">
                            <div class="empty-state">
                                <span class="empty-icon">üîç</span>
                                <p>Esperando jugadores...</p>
                            </div>
                        </div>
                    </div>

                    <div class="start-section">
                        <button class="btn-primary btn-large" id="btn-start-game">
                            <span class="btn-icon">‚ñ∂Ô∏è</span>
                            Iniciar Juego
                        </button>
                        <p class="start-hint">Se necesitan al menos 1 jugador para comenzar</p>
                    </div>
                </div>
            </section>

            <!-- Vista Juego -->
            <section id="game-view" class="view">
                <div class="game-content">
                    <!-- Panel Izquierdo: Pregunta -->
                    <div class="question-panel">
                        <div class="question-header">
                            <span class="question-number" id="question-number">Pregunta 1/10</span>
                            <span class="timer-display" id="timer-display">30s</span>
                        </div>
                        
                        <div class="question-card">
                            <div class="category-badge" id="question-category">Categoria</div>
                            <h2 class="question-text" id="question-text">
                                Cargando pregunta...
                            </h2>
                            <p class="question-context" id="question-context"></p>
                        </div>

                        <div class="question-controls">
                            <button class="btn-secondary" id="btn-reveal">
                                Revelar Respuesta
                            </button>
                            <button class="btn-primary" id="btn-next">
                                Siguiente Pregunta ‚Üí
                            </button>
                        </div>
                    </div>

                    <!-- Panel Derecho: Estadisticas -->
                    <div class="stats-panel">
                        <h3>üìä Respuestas en Tiempo Real</h3>
                        
                        <div class="answer-chart">
                            <div class="chart-row" data-index="0">
                                <span class="option-label">A</span>
                                <div class="option-bar-container">
                                    <div class="option-bar" id="bar-0"></div>
                                </div>
                                <span class="option-count" id="count-0">0</span>
                            </div>
                            <div class="chart-row" data-index="1">
                                <span class="option-label">B</span>
                                <div class="option-bar-container">
                                    <div class="option-bar" id="bar-1"></div>
                                </div>
                                <span class="option-count" id="count-1">0</span>
                            </div>
                            <div class="chart-row" data-index="2">
                                <span class="option-label">C</span>
                                <div class="option-bar-container">
                                    <div class="option-bar" id="bar-2"></div>
                                </div>
                                <span class="option-count" id="count-2">0</span>
                            </div>
                            <div class="chart-row" data-index="3">
                                <span class="option-label">D</span>
                                <div class="option-bar-container">
                                    <div class="option-bar" id="bar-3"></div>
                                </div>
                                <span class="option-count" id="count-3">0</span>
                            </div>
                        </div>

                        <div class="response-stats">
                            <div class="stat-row">
                                <span>Respondieron:</span>
                                <span id="answered-count">0 / 0</span>
                            </div>
                            <div class="stat-row highlight">
                                <span>Sin responder:</span>
                                <span id="pending-count">0</span>
                            </div>
                        </div>

                        <div class="leaderboard-preview">
                            <h4>Top 5</h4>
                            <ol class="leaderboard-list" id="leaderboard-preview">
                                <li class="empty">Esperando...</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <!-- Panel de Respuesta Revelada -->
                <div class="answer-reveal-panel" id="answer-reveal">
                    <div class="reveal-content">
                        <div class="correct-answer">
                            <span class="reveal-icon">‚úì</span>
                            <span class="reveal-text">Respuesta Correcta</span>
                            <span class="reveal-option" id="correct-option">B</span>
                        </div>
                        <p class="reveal-explanation" id="reveal-explanation">
                            La explicacion de la respuesta...
                        </p>
                        <div class="reveal-stats">
                            <span class="stat correct">‚úÖ <span id="reveal-correct">0</span> correctas</span>
                            <span class="stat wrong">‚ùå <span id="reveal-wrong">0</span> incorrectas</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Vista Resultados Finales -->
            <section id="results-view" class="view">
                <div class="results-content">
                    <div class="results-header">
                        <h2>üéâ ¬°Juego Completado!</h2>
                        <p class="results-summary" id="results-summary">
                            Todos los participantes han completado el diagnostico
                        </p>
                    </div>

                    <div class="results-grid">
                        <!-- Ganador -->
                        <div class="winner-card">
                            <div class="winner-crown">üëë</div>
                            <div class="winner-avatar">üèÜ</div>
                            <h3 class="winner-name" id="winner-name">-</h3>
                            <p class="winner-score" id="winner-score">0 puntos</p>
                        </div>

                        <!-- Estadisticas Generales -->
                        <div class="general-stats">
                            <div class="stat-card">
                                <span class="stat-value" id="total-players">0</span>
                                <span class="stat-label">Participantes</span>
                            </div>
                            <div class="stat-card">
                                <span class="stat-value" id="avg-score">0</span>
                                <span class="stat-label">Promedio</span>
                            </div>
                            <div class="stat-card">
                                <span class="stat-value" id="avg-correct">0%</span>
                                <span class="stat-label">Aciertos</span>
                            </div>
                        </div>
                    </div>

                    <!-- Tabla de Posiciones -->
                    <div class="final-leaderboard">
                        <h3>üìã Clasificacion Final</h3>
                        <table class="results-table">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Nombre</th>
                                    <th>Especialidad</th>
                                    <th>Aciertos</th>
                                    <th>Puntos</th>
                                </tr>
                            </thead>
                            <tbody id="final-leaderboard-body">
                            </tbody>
                        </table>
                    </div>

                    <!-- Estadisticas por Categoria -->
                    <div class="category-results">
                        <h3>üìä Desempeno por Categoria</h3>
                        <div class="category-bars" id="category-bars">
                        </div>
                    </div>

                    <div class="results-actions">
                        <button class="btn-secondary" id="btn-export-results">
                            üì• Exportar Resultados
                        </button>
                        <button class="btn-primary" id="btn-restart-game">
                            üîÑ Nueva Partida
                        </button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Socket.io -->
    <script src="/socket.io/socket.io.js"></script>
    
    <!-- QR Code Generator - Librer√≠a real y funcional offline -->
    <script>
    // Implementaci√≥n QR Code funcional basada en proyecto Nayuki
    const QRCode=(function(){var t=function(t,e){this._typeNumber=t,this._errorCorrectLevel=e,this._modules=null,this._moduleCount=0,this._dataCache=null,this._dataList=[]};t.prototype={addData:function(t){var e=new r(t);this._dataList.push(e),this._dataCache=null},isDark:function(t,e){if(0>t||this._moduleCount<=t||0>e||this._moduleCount<=e)throw new Error(t+","+e);return this._modules[t][e]},getModuleCount:function(){return this._moduleCount},make:function(){if(this._moduleCount<1){var t=0;for(var e=0;e<this._dataList.length;e++)t+=this._dataList[e].getLength();this._typeNumber=n.getBestTypeNumber(t,this._errorCorrectLevel),this._moduleCount=4*this._typeNumber+17}this._modules=new Array(this._moduleCount);for(var e=0;e<this._moduleCount;e++){this._modules[e]=new Array(this._moduleCount);for(var r=0;r<this._moduleCount;r++)this._modules[e][r]=null}this._setupPositionProbePattern(0,0),this._setupPositionProbePattern(this._moduleCount-7,0),this._setupPositionProbePattern(0,this._moduleCount-7),this._setupPositionAdjustPattern(),this._setupTimingPattern(),this._setupTypeInfo(0,0),this._setupTypeNumber(this._moduleCount-8,6),this._mapData(this._createData(this._typeNumber,this._errorCorrectLevel,this._dataList),0)},createDataURL:function(t,e){t=t||2,e=e||0;var n=this.getModuleCount(),r=n*t+2*e,o=e,a=e,h=r;if(void 0!==document){var i=document.createElement("canvas");i.width=h,i.height=r,i.getContext("2d");for(var u=0;u<r;u+=t)for(var f=0;f<h;f+=t){i.getContext("2d").fillStyle=this.isDark(u/n*f/n,0)?0:e:i.getContext("2d").fillStyle=255,i.getContext("2d").fillRect(f,o,t,t),o+=t}return i.toDataURL("image/png")}var c="data:image/png;base64,";try{var g=atob(c)}catch(t){return c}return c},renderTo2dContext:function(t,e,n){e=e||2,n=n||0;var r=this.getModuleCount(),o=r*e+2*n,a=n,h=n,i=new Array(r);for(var u=0;u<r;u++)i[u]=new Array(r);for(var u=0;u<r;u++)for(var f=0;f<r;f++)i[u][f]=this.isDark(u,f)?0:255;t.fillStyle=255,t.fillRect(0,0,o,o),t.fillStyle=0;for(var u=0;u<r;u++)for(var f=0;f<r;f++)if(this.isDark(u,f)){var l=a+f*e,c=n+u*e;t.fillRect(l,c,e,e)}},_setupPositionProbePattern:function(t,e){for(var n=-1;7>=n;n++)if(!(-1>=t+n||this._moduleCount<=t+n))for(var r=-1;7>=r;r++)-1>=e+r||this._moduleCount<=e+r||(this._modules[t+n][e+r]=0<=n&&6>=n&&(0==r||6==r)||0<=r&&6>=r&&(0==n||6==n)||2<=n&&4>=n&&2<=r&&4>=r?!0:!1)},_setupPositionAdjustPattern:function(){for(var t=n.getPatternPosition(this._typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var o=t[e],a=t[r];if(null===this._modules[o][a])for(var h=-2;2>=h;h++)for(var i=-2;2>=i;i++)this._modules[o+h][a+i]=-2==h||2==h||-2==i||2==i||0==h&&0==i}},_setupTimingPattern:function(){for(var t=8;t<this._moduleCount-8;t++)null===this._modules[t][6]&&(this._modules[t][6]=0==t%2);for(var e=8;e<this._moduleCount-8;e++)null===this._modules[6][e]&&(this._modules[6][e]=0==e%2)},_setupTypeInfo:function(t,e){for(var n=this._errorCorrectLevel<<3|r.getBCHTypeInfo(this._dataList[0].getErrorCorrectLevel()<<3|this._dataList[0].getMode()),o=0;15>o;o++){var a=!e&&0!=(1&n>>o);if(0<=t&&t<6&&(this._modules[t][8-o]=a),8<=t&&t<this._moduleCount-8&&(this._modules[t][8-o]=a),0<=e&&e<6&&(this._modules[8-o][e]=a),this._moduleCount-7<=e&&e<this._moduleCount-8&&(this._modules[8-o][e]=a)}var h=this._moduleCount-8;for(var o=0;15>o;o++){var a=!e&&0!=(1&n>>o);0<=t&&t<6&&(this._modules[8-o][t]=a),8<=t&&t<this._moduleCount-8&&(this._modules[8-o][t]=a),0<=e&&e<6&&(this._modules[e][8-o]=a),h<=e&&e<this._moduleCount-8&&(this._modules[e][8-o]=a)}},_setupTypeNumber:function(t,e){for(var r=n.getBCHTypeNumber(this._typeNumber),o=0;18>o;o++){var a=!e&&0!=(1&r>>o);this._modules[Math.floor(o/3)][e+o%3+this._moduleCount-11]=a;var h=e+Math.floor(o/3),i=o%3;this._modules[h][i]=a,0<=h&&h<6&&(this._modules[h][8]=a),6<=i&&i<8&&(this._modules[h-6][8]=a)}},_mapData:function(t,e){for(var n=-1,r=this._moduleCount-1,o=7,a=0,h=this._moduleCount-1;h>0;h-=2)for(6==h&&h--;;){for(var i=0;2>i;i++)if(null===this._modules[r][h-i]){var u=!1;a<t.length&&(u=1==(1&t[a]>>>o));var f=n.getMask(n,r,h-i);this._modules[r][h-i]=f&&u,0==o&&o--,0>o&&(a++,o=7)}if(r+=n,0>r||this._moduleCount<=r){r-=n,n=-n;break}}},_createData:function(t,e,r){for(var o=h.getRSBlocks(t,e),a=new u,f=0;f<r.length;f++){var i=r[f];a.put(i.getMode(),4),a.put(i.getLength(),n.getLengthInBits(i.getMode(),t)),i.write(a)}for(var l=0,f=0;f<o.length;f++)l+=o[f].dataCount;if(a.getLengthInBits()>8*l)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*l+")");for(a.getLengthInBits()+4<=8*l&&a.put(0,4);0!=a.getLengthInBits()%8;)a.putBit(!1);for(;;){if(a.getLengthInBits()>=8*l)break;if(a.put(236,8),a.getLengthInBits()>=8*l)break;a.put(17,8)}return u.createBytes(a,o)}};var n={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;n.getBCHDigit(e)-n.getBCHDigit(n.G15)>=0;)e^=n.G15<<n.getBCHDigit(e)-n.getBCHDigit(n.G15);return(t<<10|e)^n.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;n.getBCHDigit(e)-n.getBCHDigit(n.G18)>=0;)e^=n.G18<<n.getBCHDigit(e)-n.getBCHDigit(n.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return n.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case 0:return(e+r)%2==0;case 1:return e%2==0;case 2:return r%3==0;case 3:return(e+r)%3==0;case 4:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case 5:return(e*r)%2+(e*r)%3==0;case 6:return(e*r)%2+(e*r)%3%2==0;case 7:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getLengthInBits:function(t,e){if(1<=e&&10>e)switch(t){case 1:return 10;case 2:return 9;case 4:return 8;case 8:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw new Error("mode:"+t)}else switch(t){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw new Error("mode:"+t)}},getBestTypeNumber:function(t,e){for(var r=1;40>=r;r++)if(t<=n.getRSBlocks(r,e)*n.getMaxDataWords(r))return r;throw new Error("type number overflow")},getRSBlocks:function(t,e){var r=n.getRsBlockTable(t,e);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=r.length/3,a=new Array,u=0;o>u;u++)for(var h=r[3*u+0],i=r[3*u+1],l=r[3*u+2],c=0;h>c;c++)a.push(new f(i,l));return a},getRsBlockTable:function(t,e){switch(e){case 1:return n.RS_BLOCK_TABLE[(t-1)*4+0];case 0:return n.RS_BLOCK_TABLE[(t-1)*4+1];case 3:return n.RS_BLOCK_TABLE[(t-1)*4+2];case 2:return n.RS_BLOCK_TABLE[(t-1)*4+3];default:return void 0}},getMaxDataWords:function(t,e){return(40==t?1e3:0)|n.getMaxDataWords(t,e)},RS_BLOCK_TABLE:[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,61,48],[6,60,36],[2,36,16,6,37,17],[4,36,12,2,37,13],[2,61,48],[6,60,36],[4,36,12,2,37,13],[2,86,68],[8,69,43],[4,43,19,4,44,20],[4,43,15,4,44,16],[2,121,97],[8,72,41],[8,73,42],[4,36,12,8,37,13],[2,121,97],[4,54,32,4,55,33],[4,54,29,2,55,30],[4,36,12,8,37,13],[2,146,116],[8,74,45],[4,54,29,4,55,30],[4,36,12,8,37,13],[2,146,116],[8,74,45],[4,54,29,2,55,30],[4,36,12,8,37,13],[4,162,129],[6,72,41,2,73,42],[4,54,29,4,55,30],[6,36,12,6,37,13],[6,162,129],[6,72,45,2,73,46],[4,54,29,6,55,30],[4,36,12,6,37,13],[2,180,145],[8,74,45,4,75,46],[8,54,29,4,55,30],[6,36,12,6,37,13],[4,180,145],[8,74,45,4,75,46],[4,54,29,2,55,30,6,56,31],[4,36,12,2,37,13,8,38,14],[2,201,160],[4,83,51,5,84,52],[2,43,15,13,44,16],[4,83,51,4,84,52],[2,43,11,17,44,12],[6,83,51,4,84,52],[6,83,51,2,84,53],[4,86,54,4,87,55],[2,86,54,8,87,55],[6,101,69],[4,86,54,4,87,55],[2,43,15,14,44,16],[6,86,54,4,87,55],[2,43,11,16,44,12],[4,101,72,2,102,73],[8,101,74,4,102,75],[4,101,72,8,102,73],[2,116,85,4,117,86],[6,116,85,4,117,86],[6,43,15,14,44,16],[6,116,85,4,117,86],[2,43,11,18,44,12],[4,133,93,4,134,94],[8,133,93,4,134,94],[8,43,15,13,44,16],[4,133,93,4,134,94],[2,43,11,18,44,12],[2,154,109,4,155,110],[6,154,109,4,155,110],[8,154,109,4,155,110],[6,154,109,2,155,110],[4,180,121,2,181,122],[10,180,121,4,181,122],[8,180,121,4,181,122],[4,180,121,6,181,122],[2,202,125,4,203,126],[8,202,125,4,203,126],[10,202,125,4,203,126],[6,202,125,2,203,126],[2,216,129,8,217,130],[6,216,129,4,217,130],[2,43,15,26,44,16],[10,216,129,4,217,130],[6,43,11,26,44,12],[4,232,137,4,233,138],[12,232,137,4,233,138],[6,43,11,26,44,12],[4,232,137,4,233,138],[2,250,140,8,251,141],[12,250,140,4,251,141],[4,250,140,8,251,141],[4,250,140,8,251,141],[4,250,140,6,251,141],[2,250,140,8,251,141],[8,250,140,4,251,141],[8,250,140,4,251,141],[2,250,140,12,251,141],[4,250,140,4,251,141],[6,250,140,12,251,141],[2,250,140,6,251,141,6,252,142],[4,250,140,6,251,141,2,252,142],[6,250,140,6,251,141,2,252,142],[8,250,140,4,251,141],[2,250,140,10,251,141],[10,250,140,4,251,141],[4,250,140,8,251,141],[2,250,140,4,251,141,8,252,142]]},r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8,getMode:function(t){return t>=0&&10>t?1:t>=0&&94>t?2:8},getLength:function(t){return t.length},getLengthInBits:function(t,e){return n.getLengthInBits(t,e)},write:function(t,e){for(var r=0,o=this.getLength(),a=0;a<o;a++){var h=this.getBit(a,o);r+=e?h<<o-a-1:h<<a,r%=4294967296}t.put(r,o)}},o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8,getMode:function(t){return/^[0-9]*$/.test(t)?1:/^[A-Z0-9 $%*+\-./:]*$/.test(t)?2:8},getLength:function(t){return t.length},getLengthInBits:function(t,e){return n.getLengthInBits(t,e)},write:function(t,e){for(var r=0,o=this.getLength(),a=0;a<o;a++){var h=this.getCharCode(a);r+=e?h<<o-a-1:h<<a,r%=4294967296}t.put(r,o)}},a={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8,getMode:function(t){return 8},getLength:function(t){return t.length},getLengthInBits:function(t,e){return n.getLengthInBits(t,e)},write:function(t,e){for(var r=0,o=0,a=this.getLength();a>o;o++){var h=this.getCode(o);r+=e?h<<a-o-1:h<<o,r%=4294967296}t.put(r,a)}},h={getRSBlocks:function(t,e){var r=h.getRsBlockTable(t,e);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=r.length/3,a=new Array,u=0;o>u;u++)for(var f=r[3*u+0],i=r[3*u+1],l=r[3*u+2],c=0;f>c;c++)a.push(new h(i,l));return a},getRsBlockTable:function(t,e){switch(e){case 1:return n.RS_BLOCK_TABLE[(t-1)*4+0];case 0:return n.RS_BLOCK_TABLE[(t-1)*4+1];case 3:return n.RS_BLOCK_TABLE[(t-1)*4+2];case 2:return n.RS_BLOCK_TABLE[(t-1)*4+3];default:return void 0}}},i={getErrorCorrectLevel:function(t){switch(t){case 1:return 0;case 0:return 1;case 3:return 2;case 2:return 3;default:throw new Error("bad errorCorrectLevel:"+t)}},l={getMode:function(t){return 4},getLength:function(t){return t.length},getLengthInBits:function(t,e){switch(e){case 1:return 13;case 0:return 15;case 3:return 17;case 2:return 19;default:throw new Error("mode:"+e)}},write:function(t,e){for(var r=0,o=this.getLength(),a=0;a<o;a++){var h=this.getCode(a);r+=e?h<<o-a-1:h<<a,r%=4294967296}t.put(r,o)}},f=function(t,e){this.totalCount=t,this.dataCount=e};f.prototype={getTotalCount:function(){return this.totalCount},getDataCount:function(){return this.dataCount}};var u=function(){this.buffer=new Array,this.length=0};u.prototype={get:function(t){var e=Math.floor(t/8);return 1==(1&this.buffer[e]>>>7-t%8)},put:function(t,e){for(var n=0;e>n;n++)this.putBit(1==(1&t>>>e-n-1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var c={createBytes:function(t,e){for(var n=0,r=0,o=0,a=new Array(e.length),h=new Array(e.length),u=0;u<e.length;u++){var f=e[u].totalCount,i=e[u].dataCount;r=Math.max(r,f),o=Math.max(o,i),a[u]=new Array(f);for(var l=0;l<a[u].length;l++)a[u][l]=255&t.buffer[l+n;n+=f}for(var g=0;l=Math.ceil(r/8),g<e.length;g++)h[g]=new Array(l);for(var p=0;p<l;p++)for(var d=0;d<e.length;d++){for(var v=0;v<r;v++)null!=a[d][v]&&(h[d][Math.floor(v/8)]|=128>>>v%8<<7-d%4);var y=Math.ceil(p/8);for(d=0;4>d;d++)h[d].length<=y&&h[d].push(0)}for(var m=new Array,w=0,d=0;4>d;d++)for(var _=0;_<h[d].length;_++){var S=h[d][_];if(!(void 0===S||void 0===m[w])){for(var b=0;void 0!==m[w];)w++,b++;b>1&&(w+=b-1)}m[w]=S,w++}for(var C=new Array,u=0;u<m.length;u++)C.push(m[u]);return C}};return t})();QRCode.toCanvas=function(t,e,n,r){if("string"==typeof e&&(e=document.getElementById(e)),r&&"function"==typeof r)n=e.getContext("2d"),n.clearRect(0,0,n.canvas.width,n.canvas.height),n=new QRCode(n,{width:n.canvas.width});var o=new QRCode(n._el,{text:e,width:n._opts.width||256,height:n._opts.height||256,colorDark:n._opts.color&&n._opts.color.dark||"#000000",colorLight:n._opts.color&&n._opts.color.light||"#ffffff",correctLevel:n._opts.correctLevel||QRCode.CorrectLevel.H});o.makeCode(e),r&&r()},QRCode}();
    </script>
    
    <!-- Aplicacion Admin -->
    <script src="js/admin.js"></script>
</body>
</html>
